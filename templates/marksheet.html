<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Marksheet for {{ student.name }}</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .header { text-align: center; }
        .photo { float: right; width: 120px; height: 120px; border-radius: 8px; border: 2px solid #2d6cdf; object-fit: cover; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #2d6cdf; padding: 8px; text-align: center; }
        th { background: #e0e7ff; }
    </style>
</head>
<body>
    <div class="header">
        <div style="text-align:center;">
            <h2 style="margin-bottom: 0;">GIFT AUTONOMOUS COLLEGE</h2>
            <h4 style="margin: 2px 0;">Gangapada, Bhubaneswar , 752054</h4>
            <h4 style="margin: 2px 0;">Affiliated to BPUT University</h4>
            <h4 style="margin: 2px 0;">Approved by ABC Board</h4>
            <h4 style="margin: 2px 0;">ISO 9001:2015 Certified</h4>
            <h4 style="margin: 2px 0;">Website: www.giftcollege.edu.in</h4>
            <h3 style="margin-top: 10px; color: #2d6cdf;">Official Marksheet</h3>
        </div>
    </div>
    <div>
        {% if student.profile_photo %}
            <img src="{{ url_for('static', filename='images/student_photos/' ~ student.profile_photo, _external=True) }}" class="photo" alt="Profile Photo">
        {% else %}
            <img src="{{ url_for('static', filename='images/default_profile.png', _external=True) }}" class="photo" alt="No Photo">
        {% endif %}
        <p><strong>Name:</strong> {{ student.name }}</p>
        <p><strong>Registration No:</strong> {{ student.registration_number }}</p>
        <p><strong>Class:</strong> {{ student.class }}</p>
        <p><strong>Date of Birth:</strong> {{ student.dob }}</p>
        <p><strong>Father's Name:</strong> {{ student.father_name }}</p>
        <p><strong>Mother's Name:</strong> {{ student.mother_name }}</p>
    </div>
    {% if records %}
    <h3>{{ records[0].exam_name }}</h3>
    {% endif %}
    <table>
        <tr>
            <th>Subject</th>
            <th>Subject Code</th>
            <th>Full marks</th>
            <th>Marks</th>
        </tr>
        {% for row in records %}
        <tr>
            <td>{{ row.subject_name }}</td>
            <td>{{ row.subject_code }}</td>
            <td>{{ row.full_marks }}</td>
            <td>{{ row.marks_obtained }}</td>
        </tr>
        {% endfor %}
    </table>

    <div class="note">
    <strong>Note:</strong> This is a computer-generated marksheet. If you have any queries, please contact the college office.<br>
     Marks are subject to verification by the examination cell.<br>
     Please retain this marksheet for future reference.<br>
     For corrections, contact the admin office within 7 days.
</div>
<div class="footer">
    <div class="footer-left">
        <img src="{{ url_for('static', filename='images/principal_sign.png', _external=True) }}" class="signature" alt="Principal Signature"><br>
        <span>Principal</span>
    </div>
    <div class="footer-right">
        <img src="{{ url_for('static', filename='images/college_stamp.png', _external=True) }}" class="stamp" alt="College Stamp"><br>
        <span>College Stamp</span>
    </div>
</div>
<style>
.note {
    margin-top: 30px;
    font-size: 1.1em;
    color: #2d6cdf;
}
.footer {
    margin-top: 40px;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    width: 400px;
    margin-left: auto;
    margin-right: auto;
}

.stamp {
    width: 90px;
    height: auto;
    margin-bottom: 4px;
}
.signature {
    width: 110px;
    height: auto;
    margin-bottom: 4px;
}


</style>
    <script>
        window.print();
    </script>
</body>
</html>